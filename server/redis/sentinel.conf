# Redis Sentinel Configuration for High Availability
# =================================================

# Sentinel monitor configuration
# format: sentinel monitor <master-name> <host> <port> <quorum>
sentinel monitor liquid-master 127.0.0.1 6379 2

# Password for master authentication (if required)
# sentinel auth-pass liquid-master <password>

# Down-after-milliseconds: time before a sentinel marks a master as down
sentinel down-after-milliseconds liquid-master 5000

# Failover timeout: max time for failover to complete
sentinel failover-timeout liquid-master 10000

# Parallel syncs: how many replicas can be reconfigured at once
sentinel parallel-syncs liquid-master 1

# Client reconfiguration script (optional, for notifications)
# sentinel client-reconfig-script liquid-master /path/to/script.sh

# Notification script (optional, for alerts)
# sentinel notification-script liquid-master /path/to/notifications.sh

#deny-scripts-reconfig: prevent reconfig scripts from being modified
sentinel deny-scripts-reconfig yes

# =============================================================================
# SENTINEL 2 (on different server)
# =============================================================================
# Copy this config to a second server and update:
# - sentinel monitor <master-name> <master-ip> <port> <quorum>
# - Change port to 26380
# - Start with: redis-sentinel /path/to/sentinel2.conf
# =============================================================================

# Sentinel port
port 26379

# Log file
logfile /var/log/redis/sentinel.log

# Working directory
dir /var/lib/redis
